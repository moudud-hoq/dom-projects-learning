(()=>{"use strict";function e(e,c){return Math.floor(Math.random()*(c-e+1))+e}function c(e,c,o){e.classList.remove(c),o?(e.classList.add(c),setTimeout((()=>{e.classList.remove(c)}),o)):e.classList.add(c)}const o=document.querySelector(".reset-game"),r=document.querySelector(".roll-dice"),n=document.querySelector(".hold"),t=document.querySelector(".dice-img");let l,s,i,d;function a(){s=document.querySelector(l),i=s.querySelector(".current-score"),d=s.querySelector(".final-score")}function u(){s.parentNode.classList.remove("active"),i.innerHTML=0,l=".player-one"===l?".player-two":".player-one",a(),document.querySelector(l).parentNode.classList.add("active"),t.classList.add("flicker")}function m(){l=1==e(1,2)?".player-one":".player-two",document.querySelector(l).parentNode.classList.add("active")}m(),a(),r.onclick=()=>{t.classList.remove("flicker");let c=e(1,6);t.src=`./assets/dices/dice-${c}.png`,1===c?setTimeout((()=>{u()}),400):i.innerHTML=+i.innerHTML+c},n.onclick=()=>{d.innerHTML=+d.innerHTML+ +i.innerHTML,+d.innerHTML>=100?(s.parentNode.classList.add("winner"),r.disabled=!0,n.disabled=!0,c(o,"bounce-in-top",3e3)):(u(),a())},o.onclick=()=>{document.querySelectorAll(".current-score").forEach((e=>{e.innerHTML=0})),document.querySelectorAll(".final-score").forEach((e=>{e.innerHTML=0})),document.querySelectorAll(".container-player").forEach((e=>{e.classList.remove("active","winner")})),r.disabled=!1,n.disabled=!1,m(),a(),c(t,"flicker")};const y=document.querySelector(".modal"),L=document.querySelector(".overlay"),f=document.querySelector(".close-modal");function q(){L.classList.add("hidden"),y.classList.add("hidden")}document.querySelectorAll(".show-modal").forEach((e=>{e.onclick=()=>{L.classList.remove("hidden"),y.classList.remove("hidden")}})),L.onclick=q,f.onclick=q,document.onkeydown=e=>{"Escape"==e.code&&L.click()}})();